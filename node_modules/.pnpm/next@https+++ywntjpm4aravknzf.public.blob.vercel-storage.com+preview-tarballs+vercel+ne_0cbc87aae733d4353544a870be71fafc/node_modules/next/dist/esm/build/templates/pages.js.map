{"version":3,"sources":["../../../src/build/templates/pages.ts"],"sourcesContent":["import type { IncomingMessage, ServerResponse } from 'node:http'\nimport type RenderResult from '../../server/render-result'\nimport type { ParsedUrlQuery } from 'node:querystring'\nimport { PagesRouteModule } from '../../server/route-modules/pages/module.compiled'\nimport { RouteKind } from '../../server/route-kind'\nimport { BaseServerSpan } from '../../server/lib/trace/constants'\nimport { getTracer, SpanKind, type Span } from '../../server/lib/trace/tracer'\nimport { formatUrl } from '../../shared/lib/router/utils/format-url'\nimport {\n  RouterServerContextSymbol,\n  routerServerGlobal,\n} from '../../server/lib/router-utils/router-server-context'\nimport { getRequestMeta } from '../../server/request-meta'\nimport { interopDefault } from '../../server/app-render/interop-default'\nimport { getRevalidateReason } from '../../server/instrumentation/utils'\nimport { normalizeDataPath } from '../../shared/lib/page-path/normalize-data-path'\nimport { hoist } from './helpers'\n\n// Import the app and document modules.\nimport * as document from 'VAR_MODULE_DOCUMENT'\nimport * as app from 'VAR_MODULE_APP'\n\n// Import the userland code.\nimport * as userland from 'VAR_USERLAND'\n\n// Re-export the component (should be the default export).\nexport default hoist(userland, 'default')\n\n// Re-export methods.\nexport const getStaticProps = hoist(userland, 'getStaticProps')\nexport const getStaticPaths = hoist(userland, 'getStaticPaths')\nexport const getServerSideProps = hoist(userland, 'getServerSideProps')\nexport const config = hoist(userland, 'config')\nexport const reportWebVitals = hoist(userland, 'reportWebVitals')\n\n// Re-export legacy methods.\nexport const unstable_getStaticProps = hoist(\n  userland,\n  'unstable_getStaticProps'\n)\nexport const unstable_getStaticPaths = hoist(\n  userland,\n  'unstable_getStaticPaths'\n)\nexport const unstable_getStaticParams = hoist(\n  userland,\n  'unstable_getStaticParams'\n)\nexport const unstable_getServerProps = hoist(\n  userland,\n  'unstable_getServerProps'\n)\nexport const unstable_getServerSideProps = hoist(\n  userland,\n  'unstable_getServerSideProps'\n)\n\n// Create and export the route module that will be consumed.\nexport const routeModule = new PagesRouteModule({\n  definition: {\n    kind: RouteKind.PAGES,\n    page: 'VAR_DEFINITION_PAGE',\n    pathname: 'VAR_DEFINITION_PATHNAME',\n    // The following aren't used in production.\n    bundlePath: '',\n    filename: '',\n  },\n  distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n  projectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n  components: {\n    // default export might not exist when optimized for data only\n    App: app.default,\n    Document: document.default,\n  },\n  userland,\n})\n\nexport async function handler(\n  req: IncomingMessage,\n  res: ServerResponse,\n  ctx: {\n    waitUntil: (prom: Promise<void>) => void\n  }\n): Promise<RenderResult | null> {\n  let srcPage = 'VAR_DEFINITION_PAGE'\n\n  // turbopack doesn't normalize `/index` in the page name\n  // so we need to to process dynamic routes properly\n  // TODO: fix turbopack providing differing value from webpack\n  if (process.env.TURBOPACK) {\n    srcPage = srcPage.replace(/\\/index$/, '') || '/'\n  } else if (srcPage === '/index') {\n    // we always normalize /index specifically\n    srcPage = '/'\n  }\n  const multiZoneDraftMode = process.env\n    .__NEXT_MULTI_ZONE_DRAFT_MODE as any as boolean\n\n  const prepareResult = await routeModule.prepare(req, res, {\n    srcPage,\n    multiZoneDraftMode,\n  })\n\n  if (!prepareResult) {\n    res.statusCode = 400\n    res.end('Bad Request')\n    ctx.waitUntil?.(Promise.resolve())\n    return null\n  }\n\n  const {\n    buildId,\n    query,\n    params,\n    parsedUrl,\n    originalQuery,\n    originalPathname,\n    buildManifest,\n    nextFontManifest,\n    isNextDataRequest,\n    serverFilesManifest,\n    reactLoadableManifest,\n    prerenderManifest,\n    isDraftMode,\n    isOnDemandRevalidate,\n    locale,\n    locales,\n    defaultLocale,\n  } = prepareResult\n\n  const routerServerContext =\n    routerServerGlobal[RouterServerContextSymbol]?.[\n      process.env.__NEXT_RELATIVE_PROJECT_DIR || ''\n    ]\n\n  const onError = routeModule.instrumentationOnRequestError.bind(routeModule)\n  const nextConfig =\n    routerServerContext?.nextConfig || serverFilesManifest.config\n\n  const isExperimentalCompile =\n    serverFilesManifest?.config?.experimental?.isExperimentalCompile\n\n  const isIsrFallback = Boolean(getRequestMeta(req, 'isIsrFallback'))\n  const hasServerProps = Boolean(getServerSideProps)\n  const hasStaticProps = Boolean(getStaticProps)\n  const hasGetInitialProps = Boolean(\n    (userland.default || userland).getInitialProps\n  )\n\n  try {\n    const method = req.method || 'GET'\n    const tracer = getTracer()\n\n    const activeSpan = tracer.getActiveScopeSpan()\n    const resolvedUrl = formatUrl({\n      pathname: parsedUrl.pathname,\n      // make sure to only add query values from original URL\n      query: hasStaticProps ? {} : originalQuery,\n    })\n\n    const publicRuntimeConfig: Record<string, string> =\n      routerServerContext?.publicRuntimeConfig || nextConfig.publicRuntimeConfig\n\n    let ErrorDebug: any\n\n    if (process.env.NODE_ENV === 'development') {\n      ErrorDebug = (props: any) => {\n        const ReactDevOverlayImpl =\n          require('next/dist/client/components/react-dev-overlay/pages/pages-dev-overlay').PagesDevOverlay\n        return ReactDevOverlayImpl(props)\n      }\n    }\n\n    const invokeRouteModule = async (span?: Span) =>\n      routeModule\n        .render(req, res, {\n          query:\n            hasStaticProps && !isExperimentalCompile\n              ? ({\n                  ...params,\n                  ...(query.amp && config.amp\n                    ? {\n                        amp: query.amp as string,\n                      }\n                    : {}),\n                } as ParsedUrlQuery)\n              : {\n                  ...query,\n                  ...params,\n                },\n          params,\n          page: srcPage,\n          renderContext: {\n            isDraftMode,\n            isFallback: isIsrFallback,\n            developmentNotFoundSourcePage: getRequestMeta(\n              req,\n              'developmentNotFoundSourcePage'\n            ),\n          },\n          sharedContext: {\n            buildId,\n            customServer:\n              Boolean(routerServerContext?.isCustomServer) || undefined,\n            deploymentId: process.env.NEXT_DEPLOYMENT_ID,\n          },\n          renderOpts: {\n            params,\n            routeModule,\n            page: srcPage,\n            pageConfig: config || {},\n            Component: interopDefault(userland),\n            ComponentMod: userland,\n            getStaticProps,\n            getStaticPaths,\n            getServerSideProps,\n            supportsDynamicResponse: !hasStaticProps,\n            buildManifest,\n            nextFontManifest,\n            reactLoadableManifest,\n\n            assetPrefix: nextConfig.assetPrefix,\n            strictNextHead: Boolean(nextConfig.experimental.strictNextHead),\n            previewProps: prerenderManifest.preview,\n            images: nextConfig.images as any,\n            nextConfigOutput: nextConfig.output,\n            optimizeCss: Boolean(nextConfig.experimental.optimizeCss),\n            nextScriptWorkers: Boolean(\n              nextConfig.experimental.nextScriptWorkers\n            ),\n            domainLocales: nextConfig.i18n?.domains,\n            crossOrigin: nextConfig.crossOrigin,\n\n            multiZoneDraftMode,\n            basePath: nextConfig.basePath,\n            canonicalBase: nextConfig.amp.canonicalBase || '',\n            ampOptimizerConfig: nextConfig.experimental.amp?.optimizer,\n            disableOptimizedLoading:\n              nextConfig.experimental.disableOptimizedLoading,\n            largePageDataBytes: nextConfig.experimental.largePageDataBytes,\n            // Only the `publicRuntimeConfig` key is exposed to the client side\n            // It'll be rendered as part of __NEXT_DATA__ on the client side\n            runtimeConfig:\n              Object.keys(publicRuntimeConfig).length > 0\n                ? publicRuntimeConfig\n                : undefined,\n\n            isExperimentalCompile,\n\n            experimental: {\n              clientTraceMetadata:\n                nextConfig.experimental.clientTraceMetadata || ([] as any),\n            },\n\n            locale,\n            locales,\n            defaultLocale,\n\n            isNextDataRequest:\n              isNextDataRequest && (hasServerProps || hasStaticProps),\n\n            resolvedUrl,\n            // For getServerSideProps and getInitialProps we need to ensure we use the original URL\n            // and not the resolved URL to prevent a hydration mismatch on\n            // asPath\n            resolvedAsPath:\n              hasServerProps || hasGetInitialProps\n                ? formatUrl({\n                    // we use the original URL pathname less the _next/data prefix if\n                    // present\n                    pathname: isNextDataRequest\n                      ? normalizeDataPath(originalPathname)\n                      : originalPathname,\n                    query: originalQuery,\n                  })\n                : resolvedUrl,\n\n            isOnDemandRevalidate,\n\n            ErrorDebug,\n            err: getRequestMeta(req, 'invokeError'),\n            dev: routeModule.isDev,\n\n            // needed for experimental.optimizeCss feature\n            distDir: `${routeModule.projectDir}/${routeModule.distDir}`,\n\n            ampSkipValidation: nextConfig.experimental.amp?.skipValidation,\n            ampValidator: getRequestMeta(req, 'ampValidator'),\n          },\n        })\n        .finally(() => {\n          if (!span) return\n\n          span.setAttributes({\n            'http.status_code': res.statusCode,\n            'next.rsc': false,\n          })\n\n          const rootSpanAttributes = tracer.getRootSpanAttributes()\n          // We were unable to get attributes, probably OTEL is not enabled\n          if (!rootSpanAttributes) {\n            return\n          }\n\n          if (\n            rootSpanAttributes.get('next.span_type') !==\n            BaseServerSpan.handleRequest\n          ) {\n            console.warn(\n              `Unexpected root span type '${rootSpanAttributes.get(\n                'next.span_type'\n              )}'. Please report this Next.js issue https://github.com/vercel/next.js`\n            )\n            return\n          }\n\n          const route = rootSpanAttributes.get('next.route')\n          if (route) {\n            const name = `${method} ${route}`\n\n            span.setAttributes({\n              'next.route': route,\n              'http.route': route,\n              'next.span_name': name,\n            })\n            span.updateName(name)\n          } else {\n            span.updateName(`${method} ${req.url}`)\n          }\n        })\n\n    // TODO: activeSpan code path is for when wrapped by\n    // next-server can be removed when this is no longer used\n    if (activeSpan) {\n      return await invokeRouteModule(activeSpan)\n    } else {\n      return await tracer.withPropagatedContext(req.headers, () =>\n        tracer.trace(\n          BaseServerSpan.handleRequest,\n          {\n            spanName: `${method} ${req.url}`,\n            kind: SpanKind.SERVER,\n            attributes: {\n              'http.method': method,\n              'http.target': req.url,\n            },\n          },\n          invokeRouteModule\n        )\n      )\n    }\n  } catch (err) {\n    await onError(\n      req,\n      err,\n      {\n        path: req.url || '/',\n        headers: req.headers,\n        method: req.method || 'GET',\n      },\n      {\n        routerKind: 'Pages Router',\n        routePath: srcPage,\n        routeType: 'render',\n        revalidateReason: getRevalidateReason({\n          isRevalidate: hasStaticProps,\n          isOnDemandRevalidate,\n        }),\n      }\n    )\n\n    // rethrow so that we can handle serving error page\n    throw err\n  } finally {\n    // We don't allow any waitUntil work in pages API routes currently\n    // so if callback is present return with resolved promise since no\n    // pending work\n    ctx.waitUntil?.(Promise.resolve())\n  }\n}\n"],"names":["PagesRouteModule","RouteKind","BaseServerSpan","getTracer","SpanKind","formatUrl","RouterServerContextSymbol","routerServerGlobal","getRequestMeta","interopDefault","getRevalidateReason","normalizeDataPath","hoist","document","app","userland","getStaticProps","getStaticPaths","getServerSideProps","config","reportWebVitals","unstable_getStaticProps","unstable_getStaticPaths","unstable_getStaticParams","unstable_getServerProps","unstable_getServerSideProps","routeModule","definition","kind","PAGES","page","pathname","bundlePath","filename","distDir","process","env","__NEXT_RELATIVE_DIST_DIR","projectDir","__NEXT_RELATIVE_PROJECT_DIR","components","App","default","Document","handler","req","res","ctx","serverFilesManifest","srcPage","TURBOPACK","replace","multiZoneDraftMode","__NEXT_MULTI_ZONE_DRAFT_MODE","prepareResult","prepare","statusCode","end","waitUntil","Promise","resolve","buildId","query","params","parsedUrl","originalQuery","originalPathname","buildManifest","nextFontManifest","isNextDataRequest","reactLoadableManifest","prerenderManifest","isDraftMode","isOnDemandRevalidate","locale","locales","defaultLocale","routerServerContext","onError","instrumentationOnRequestError","bind","nextConfig","isExperimentalCompile","experimental","isIsrFallback","Boolean","hasServerProps","hasStaticProps","hasGetInitialProps","getInitialProps","method","tracer","activeSpan","getActiveScopeSpan","resolvedUrl","publicRuntimeConfig","ErrorDebug","NODE_ENV","props","ReactDevOverlayImpl","require","PagesDevOverlay","invokeRouteModule","span","render","amp","renderContext","isFallback","developmentNotFoundSourcePage","sharedContext","customServer","isCustomServer","undefined","deploymentId","NEXT_DEPLOYMENT_ID","renderOpts","pageConfig","Component","ComponentMod","supportsDynamicResponse","assetPrefix","strictNextHead","previewProps","preview","images","nextConfigOutput","output","optimizeCss","nextScriptWorkers","domainLocales","i18n","domains","crossOrigin","basePath","canonicalBase","ampOptimizerConfig","optimizer","disableOptimizedLoading","largePageDataBytes","runtimeConfig","Object","keys","length","clientTraceMetadata","resolvedAsPath","err","dev","isDev","ampSkipValidation","skipValidation","ampValidator","finally","setAttributes","rootSpanAttributes","getRootSpanAttributes","get","handleRequest","console","warn","route","name","updateName","url","withPropagatedContext","headers","trace","spanName","SERVER","attributes","path","routerKind","routePath","routeType","revalidateReason","isRevalidate"],"mappings":"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","ignoreList":[0]}